---
title: NIO
date: 2018-12-05 19:40:20
tags: NIO
categories: java学习
copyright: false
---

[NIO是怎么工作的](https://zhuanlan.zhihu.com/p/23488863)

[epoll是如何做到少量线程同时接收多个请求事件处理部分到底放在哪里](https://www.zhihu.com/question/50800570/answer/122831597)

[I/O多路复用技术是什么](https://www.zhihu.com/question/28594409/answer/74003996)



### 为什么NIO速度快

假如有10000个连接，4核CPU ，那么bio 就需要一万个线程，而nio大概就需要5个线程(一个接收请求，四个处理请求)。如果这10000个连接同时请求，那么bio就有10000个线程抢四个CPU ，几乎每个CPU 平均执行2500次上下文切换，而nio 四个处理线程，几乎每个线程都对应一个CPU ，也就是几乎没有上下文切换。效率就体现出来了。



NIO 是同步非阻塞I/O模型，也是I/O多路复用的基础，已经被越来越多的应用到大型应用服务器。解决高并发与大量连接。



NIO利用事件模型处理I/O 解决线程池瓶颈处理海量连接，包括利用面向事件的方式编写服务端/客户端程序。



### 传统阻塞IO模型

ServerSocket serverSocket = new ServerSocket();

serverSocket.bind(8888);

为新的连接创建新的线程，之所以使用单线程，一般用线程池。连接少的时候是OK 的，但是连接多的话 就不行了。

NIO是怎么工作的。 有Channel，Selector，Socket等。





