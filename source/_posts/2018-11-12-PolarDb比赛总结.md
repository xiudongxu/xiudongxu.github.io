---
title: PolarDb比赛总结
date: 2018-11-12 14:31:50
tags: PolarDb
categories: 中间件比赛
copyright: false
---

为啥要理解java 对象的组成结构，这样才能估算大小？

第一个问题  占用空间的计算

比如对象头还要占用空间，以为数据不占用空间， 反而数组占用的更多  还会多占用一个int 存数组长度。

所以我们每次  str.length 其实是一个属性   时间复杂度是o1



#### **1.1 取消偏向锁 -XX:-UseBiasedLocking**

JDK1.6开始默认打开的偏向锁，会尝试把锁赋给第一个访问它的线程，取消同步块上的synchronized原语。如果始终只有一条线程在访问它，就成功略过同步操作以获得性能提升。

但一旦有第二条线程访问这把锁，JVM就要撤销偏向锁恢复到未锁定线程的状态，详见 JVM的Stop The World，安全点，黑暗的地底世界， 可以看到不少RevokeBiasd的纪录，像GC一样，会Stop The World的干活，虽然只是很短很短的停顿，但对于多线程并发的应用，取消掉它反而有性能的提升和延时的极微的缩短，所以Cassandra就取消了它。

在竞争激烈的情况下 会加重系统的负担。

[曹工比赛总结](https://www.zybuluo.com/caozhenxiong/note/1459562)





