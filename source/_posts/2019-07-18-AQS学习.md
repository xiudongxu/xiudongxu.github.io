AQS 全称 AbstractQueuedSynchronizer 抽象队列同步器，是用于构建阻塞锁或者其他相关同步器的基础框架。是JAVA并发包的基础工具类。 通过这个框架可以对**同步状态原子性管理、线程的阻塞和解除、队列的管理**进行统一管理。



AQS是抽象类，并且不能直接实例化。需要重写线程获取资源和释放资源的方式，同时子类还要负责共享变量state的维护，如果当前state为0的时候表示该锁没有被占用，大于0表示代表该锁被一个或者多个线程占领。而队列的维护不需要我们考虑，AQS已经帮我们实现好了。AQS的设计模式就是模板方法。



所以子类的任务有：

- 通过CAS维护共享变量state
- 重写资源的获取方式
- 重写资源的释放方式



