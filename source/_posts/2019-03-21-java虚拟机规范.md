---
title: java虚拟机规范
date: 2019-03-02 23:40:20
tags: java虚拟机规范
categories: 看书总结
copyright: false
---

### 运行时数据区分为 ：

**pc寄存器**  每个线程都有自己的pc寄存器 任意时刻一个线程只能执行一个方法的代码，正在被线程执行的方法称为该线程的当前方法，存储一个本地指针。

**java虚拟机栈**  每一个线程都有java虚拟机栈 用来存储栈帧  栈帧由三部分组成  局部变量表，操作数栈，指向常量池的引用。

**java堆** 各个线程共享的运行时内存区域，所有类实例和数组对象分配内存的区域。

**java 方法区** 各个线程共享的运行时内存区域，存储类的结构信息 例如：运行时常量池、字段和方法数据、构造函数和普通方法的字节码内容，方法区是堆的逻辑组成部分，

**运行时常量池**  是class文件中 每个类或者接口的常量池表  分配在java方法区中。

**本地方法栈** 支持native方法的执行  一般会在线程创建的时候按线程分配。

## 栈帧：

用来存储数据和部分过程结果的数据结构，同事也用来处理动态链接、方法返回值和异常分派    随着方法调用而创建，随着方法结束而销毁。

**局部变量表** 使用索引来定位  入参和方法内的局部变量 就存储在这里

**操作数栈** 字节码指令把局部变量表或者对象实例的字段中复制常量或变量值到操作数栈中，取走数据，操作数据以及把操作结果重新入栈。

**动态链接** 每个栈帧包含一个指向当前**方法**所在类型的运行时常量池的引用，以便对当前方法的代码实现动态链接。动态链接的作用就是将这些符号引用所表示的方法转换为对实际方法的直接引用。

进度  第30页  2019年04月15日00:03:41 













